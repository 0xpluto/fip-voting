(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443,364],{8738:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/previousVotes",function(){return a(7223)}])},364:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c},options:function(){return u}});var n=a(5893),o=a(7294),s=a(3148),l=a(6495),r=a(6154);s.kL.register(s.uw,s.f$,s.ZL,s.Dx,s.u,s.De);let u={indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{position:"right"},title:{display:!0,text:"Previous Votes"}},scales:{x:{stacked:!0},y:{stacked:!0}}};function c(){let e=(0,o.useRef)(null),[t,a]=(0,o.useState)(null),[s,c]=(0,o.useState)([]),[i,d]=(0,o.useState)([]),f=async()=>{try{let e=await r.Z.get("".concat("https://sp-vote.com","/filecoin/allconcludedvotes?network=calibration"));a(e.data),p(e.data),b(e.data)}catch(e){console.log(e)}};(0,o.useEffect)(()=>{f()},[f]),(0,o.useEffect)(()=>{let t=e.current;t&&console.log("ChartJS",t)},[]);let p=e=>{let t=[];Object.keys(e).map(e=>t.push("FIP-".concat(e))),c(t)},b=e=>{let t=[],a=[],n=[];Object.keys(e).map(o=>{t.push(e[o].yay),a.push(e[o].nay),n.push(e[o].abstain)}),d([{label:"Nay Votes",data:a,backgroundColor:"rgba(249,53,53,0.8)"},{label:"Abstain Votes",data:n,backgroundColor:"rgba(249,171,53,0.8)"},{label:"Yay Votes",data:t,backgroundColor:"rgba(53,249,53,0.8)"}])};return(0,n.jsx)("div",{className:"md:px-56",children:(0,n.jsx)(l.$Q,{ref:e,options:{...u,plugins:{tooltip:{callbacks:{footer:e=>{console.log("TOOL TIP",e);let a=Object.keys(t),n=t[a[e[0].dataIndex]],o=n.yay+n.nay+n.abstain;return console.log("SUM",o),console.log("FIPS",t[a[e[0].dataIndex]]),"Vote Power: "+parseInt(e[0].formattedValue)/o*100+"%"}}}}},data:{labels:s,datasets:i}})})}},7223:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var n=a(5893),o=a(364);let s=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"bg-white rounded-md shadow-md p-3 md:p-5",children:t})};function l(){return(0,n.jsx)(s,{children:(0,n.jsx)(o.default,{})})}}},function(e){e.O(0,[196,154,853,774,888,179],function(){return e(e.s=8738)}),_N_E=e.O()}]);